<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Finna Index Search with Total Limit Option — search_finna • finna</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Finna Index Search with Total Limit Option — search_finna"><meta name="description" content="This function retrieves records from the Finna index with an option to limit the total number of records returned.
The function paginates through the results, fetching records until the specified total limit is reached."><meta property="og:description" content="This function retrieves records from the Finna index with an option to limit the total number of records returned.
The function paginates through the results, fetching records until the specified total limit is reached."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">finna</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Fennica.html">Fennica in Finna</a></li>
    <li><a class="dropdown-item" href="../articles/finna_collections.html">Overview of Finna Collection</a></li>
    <li><a class="dropdown-item" href="../articles/refinemetadata.html">Refine, integrate and analyse Finna metadata</a></li>
    <li><a class="dropdown-item" href="../articles/vignette.html">Introduction to finna</a></li>
    <li><a class="dropdown-item" href="../articles/viola_collections.html">Viola in Finna</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"></ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Finna Index Search with Total Limit Option</h1>
      <small class="dont-index">Source: <a href="https://github.com/rOpenGov/finna/blob/main/R/search_finna.R" class="external-link"><code>R/search_finna.R</code></a></small>
      <div class="d-none name"><code>search_finna.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function retrieves records from the Finna index with an option to limit the total number of records returned.
The function paginates through the results, fetching records until the specified total limit is reached.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">search_finna</span><span class="op">(</span></span>
<span>  query <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"AllFields"</span>,</span>
<span>  fields <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  filters <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  facets <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  facetFilters <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sort <span class="op">=</span> <span class="st">"relevance,id asc"</span>,</span>
<span>  limit <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  lng <span class="op">=</span> <span class="st">"fi"</span>,</span>
<span>  prettyPrint <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-query">query<a class="anchor" aria-label="anchor" href="#arg-query"></a></dt>
<dd><p>description</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>A string specifying the type of search. Options include "AllFields", "Title", "Author", "Subject". Defaults to "AllFields".</p></dd>


<dt id="arg-fields">fields<a class="anchor" aria-label="anchor" href="#arg-fields"></a></dt>
<dd><p>A vector of fields to be returned in the search results. Defaults to NULL, which returns a standard set of fields.</p></dd>


<dt id="arg-filters">filters<a class="anchor" aria-label="anchor" href="#arg-filters"></a></dt>
<dd><p>A vector of filter queries to refine the search. Defaults to NULL.</p></dd>


<dt id="arg-facets">facets<a class="anchor" aria-label="anchor" href="#arg-facets"></a></dt>
<dd><p>A vector specifying which facets to return in the results. Defaults to NULL.</p></dd>


<dt id="arg-facetfilters">facetFilters<a class="anchor" aria-label="anchor" href="#arg-facetfilters"></a></dt>
<dd><p>A vector of regular expressions to filter facets. Defaults to NULL.</p></dd>


<dt id="arg-sort">sort<a class="anchor" aria-label="anchor" href="#arg-sort"></a></dt>
<dd><p>A string defining the sort order of the results. Options include:</p><ul><li><p>"relevance,id asc" (default)</p></li>
<li><p>"main_date_str desc" (Year, newest first)</p></li>
<li><p>"main_date_str asc" (Year, oldest first)</p></li>
<li><p>"last_indexed desc" (Last modified)</p></li>
<li><p>"first_indexed desc" (Last added)</p></li>
<li><p>"callnumber,id asc" (Classmark)</p></li>
<li><p>"author,id asc" (Author)</p></li>
<li><p>"title,id asc" (Title)</p></li>
</ul></dd>


<dt id="arg-limit">limit<a class="anchor" aria-label="anchor" href="#arg-limit"></a></dt>
<dd><p>An integer specifying the total number of records to return across multiple pages.</p></dd>


<dt id="arg-lng">lng<a class="anchor" aria-label="anchor" href="#arg-lng"></a></dt>
<dd><p>A string for the language of returned translated strings. Options are "fi", "en-gb", "sv", "se". Defaults to "fi".</p></dd>


<dt id="arg-prettyprint">prettyPrint<a class="anchor" aria-label="anchor" href="#arg-prettyprint"></a></dt>
<dd><p>A logical value indicating whether to pretty-print the JSON response. Useful for debugging. Defaults to FALSE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble containing the search results with relevant fields extracted and provenance information.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">search_results</span> <span class="op">&lt;-</span> <span class="fu">search_finna</span><span class="op">(</span><span class="st">"sibelius"</span>, sort <span class="op">=</span> <span class="st">"main_date_str desc"</span>, limit <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Default limit of 100 records is being used. Specify 'limit' argument for more records.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Total results found: 44515</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Data fetching completed in 0.87 seconds.</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">search_results</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 100 × 10</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    id                Title Author Year  Language Formats Subjects Library Series</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> outi.2378313      Jean… Griml… 2025  eng      Kirja,… <span style="color: #BB0000;">NA</span>       OUTI-k… <span style="color: #BB0000;">NA</span>    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> anders.1945667    He s… Kirve… 2024  fin      Kirja,… sotilaa… Anders… <span style="color: #BB0000;">NA</span>    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> anders.1947392    Mies… Tasal… 2024  fin      Kirja,… Heikkin… Anders… <span style="color: #BB0000;">NA</span>    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> helka.9934642735… Yli-… Frost… 2024  fin      Kirja,… Wagner,… Helka-… <span style="color: #BB0000;">NA</span>    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> anders.1958752    Eero… Järne… 2024  fin      Kirja,… Järnefe… Anders… Atene…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> helle.1634933     Eero… Järne… 2024  swe      Kirja,… Järnefe… Helle-… Atene…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> helmet.2580197    Eero… Järne… 2024  eng      Kirja,… Järnefe… Helmet… Atene…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> anders.1963289    Sola… <span style="color: #BB0000;">NA</span>     2024  zxx      Äänite… <span style="color: #BB0000;">NA</span>       Anders… <span style="color: #BB0000;">NA</span>    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> helmet.2584794    Laul… Klas,… 2024  fin      Äänite… 2020-lu… Helmet… <span style="color: #BB0000;">NA</span>    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> anders.1961626    Nono… Söder… 2024  fin      Kirja,… Söderbe… Anders… <span style="color: #BB0000;">NA</span>    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 90 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 1 more variable: last_indexed &lt;chr&gt;</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Akewak Jeba, Leo Lahti.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

